<h2>Your Profile</h2>
<input type="text" id="username" placeholder="Enter your name" />
<input type="file" id="avatarInput" />
<br />
<img id="avatar" src="" alt="Your Avatar" width="100" />
<button onclick="saveProfile()">Save Profile</button>

<script>
  // Load profile from localStorage
  const usernameInput = document.getElementById('username');
  const avatarImg = document.getElementById('avatar');

  const profile = JSON.parse(localStorage.getItem('profile') || '{}');
  if (profile.username) usernameInput.value = profile.username;
  if (profile.avatar) avatarImg.src = profile.avatar;

  // Save profile to localStorage
  function saveProfile() {
    const reader = new FileReader();
    const file = document.getElementById('avatarInput').files[0];

    reader.onload = function () {
      const avatarDataUrl = reader.result;
      const newProfile = {
        username: usernameInput.value,
        avatar: avatarDataUrl
      };
      localStorage.setItem('profile', JSON.stringify(newProfile));
      avatarImg.src = avatarDataUrl;
      alert('Profile saved locally!');
    };

    if (file) {
      reader.readAsDataURL(file);
    } else {
      const newProfile = {
        username: usernameInput.value,
        avatar: profile.avatar || ''
      };
      localStorage.setItem('profile', JSON.stringify(newProfile));
      avatarImg.src = profile.avatar || '';
      alert('Profile saved locally!');
    }
  }
</script>